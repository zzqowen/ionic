<ion-view class="phoneLogin-view">
  <ion-content style="overflow: hidden;">
    <div class="spinner" ng-show="showSpinner">
       <ion-spinner ng-show="!loaded" class="spinner-on-load"></ion-spinner>
    </div>
    <div style="height:42px;"><div margin="20px 10px 0px 20px" width="22px" height="22px" background-img src="data/toClose.png" ng-click="visitorLogin()"></div></div>
    <!--<ul class="flex-center-container" style="justify-content: center;margin-bottom:20px;height:92px;">
      <li class="flex-column-center-container">
        <h1>登录</h1>
        <div style="width:18px;height:4px;background-color:#17ae15;"></div>
      </li>
      <li style="margin-left: 85px;" class="flex-column-center-container">
        <h1 style="color:#242624;" ui-sref="register" nav-direction="forward">注册</h1>
        <div style="width:18px;height:4px;background-color:transparent;"></div>
      </li>
    </ul>-->
    <form name="login_form" novalidate ng-style="{height:theHeight}">
      <ul class="flex-center-container" style="justify-content: center;margin-bottom:20px;height:92px;">
      <li class="flex-column-center-container">
        <h1>登录</h1>
        <div style="width:18px;height:4px;background-color:#17ae15;"></div>
      </li>
      <li style="margin-left: 85px;" class="flex-column-center-container">
        <h1 style="color:#242624;" ui-sref="register" nav-direction="forward">注册</h1>
        <div style="width:18px;height:4px;background-color:transparent;"></div>
      </li>
      </ul>
      <div class="login-content phoneLogin-container" style="height:276px;">
        <div class="login-input phoneLogin-input"> 
            <div ng-click="showDebug(0)" style="padding:10px 10px 10px 0;">
              <div background-img src="data/avatar.png" width="20px" height="20px"></div>
            </div>
            <input type="number" name="user_name" ng-model="user.userName" ng-click='focus()' ng-blur="blur()" required placeholder="请输入手机号码" ng-pattern="/^1[3578]\d{9}$/" onkeyup="value=this.value.replace(/\D+/g,'')" oninput="if(value.length>11) value=value.slice(0,11)" style="width:100%;margin-left:10px;">
          </div>
          <div class="login-input phoneLogin-input">
            <div ng-click="showDebug(1)" style="padding:10px 10px 10px 0;">
              <div background-img src="data/castle.png"  width="20px" height="20px"></div>
            </div>
            <input type="{{data.passwordType}}" name="password" ng-model="user.password" ng-click="focus()" ng-blur="blur()" required placeholder="请输入密码" minlength="6" maxlength="16" style="width:100%;margin-left:10px;" onkeyup="value=value.replace(/[\u4E00-\u9FA5]/g,'')" onbeforepaste="clipboardData.setData('text',clipboardData.getData('text').replace(/[\u4E00-\u9FA5]/g,''))">
            <div ng-click="toShowPassword()" style="padding:10px 10px 10px 0;">
              <div background-img ng-src="{{data.eyesWay}}"  width="21px" height="20px"></div>
            </div>
          </div>
          <div class="flex-right-container phoneColor">
            <div ui-sref="forgotPassword">忘记密码?</div>
          </div>
          <p class="message error">{{error}}</p>
          <div ng-click="doLogin()" background-img ng-src="{{ login_form.$invalid ? 'data/notGo.png' : 'data/canGo.png'}}" width="62px" height="62px" margin="0 auto" ng-disabled="login_form.$invalid"></div>
      </div>
      <div ng-style="{height:theHeightSecond}" class="flex-column-center-end-container" ng-if="config.isWxInstalled || config.isQQInstalled">
        <div style="width:100%;">
          <p class="otherWay">快速登录答尔文，开启你的探索之旅</p>
          <div class="flex-space-container" style="height:89px;justify-content: center;">
            <div style="padding:10px 32px;" ng-click='setSource("wx")' class="flex-column-center-container" ng-if="config.isWxInstalled">
              <img src="data/wxLogin.png" alt="" style="height:34px;" />
            </div>
            <div style="padding:13.5px 35.5px;" ng-click='setSource("qq")' class="flex-column-center-container" ng-if="config.isQQInstalled">
              <img src="data/qqLogin.png" alt="" style="height:27px;"/>
            </div>
          </div>
        </div>
      </div>
    </form>
  </ion-content>
</ion-view>
